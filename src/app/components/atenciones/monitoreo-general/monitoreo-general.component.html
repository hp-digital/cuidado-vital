<div class="container-spinner" *ngIf="verSpinner">
    <div class="spinner-border text-primary"></div>
</div>
<div class="modal-content">
    <div class="modal-header">
        <h4 class="modal-title">MONITOREO GENERAL</h4>
        <button type="button" class="btn-close" data-bs-dismiss="modal" (click)="CerrarModal()"></button> 
    </div>
    <div class="modal-body">
        <form [formGroup]="dataFormGroup">
            <div id="header-component">
                <div class="row">
                    <div class="col-xl-3">
                        <div class="form-group mb-3">
                            <label class="fw-bold">Paciente :&nbsp; </label> <span>{{paciente}}</span>
                        </div>
                    </div>
                    <div class="col-xl-3">
                        <div class="form-group mb-3">
                            <label class="fw-bold">Nro. HCL :&nbsp; </label> <span>{{nroHcl}}</span>
                        </div>
                    </div>
                    <div class="col-xl-3">
                        <div class="form-group mb-3">
                            <label class="fw-bold">Fecha :&nbsp;&nbsp; </label> <span>{{fechaActual}}</span>
                        </div>
                    </div>															
                </div>
            </div>
            <hr/>	
        
            <div class="row mb-3 bg-green-custom">REPORTE</div>	
            <div class="row">
                <div class="table-responsive">
                    <table class="table table-bordered mb-2">
                        <tr>
                          <th>FUNCIONES</th>
                          <!-- <th *ngFor="let item of objSignoVitalHoja">Registro {{ objSignoVitalHoja.indexOf(item) + 1 }}</th> -->
                        </tr>
                        <tr *ngFor="let header of headers">
                          <td>{{ header }}</td>
                          <td *ngFor="let item of objSignoVitalHoja">
                            {{ item[header] }}
                          </td>
                        </tr>
                    </table>
                </div>
            </div>
            
            <div class="row">
                <h4>EVALUACIÓN SEGÚN ENFERMERA</h4>
                <br>
                <div class="col-xl-6">
                    <div class="form-group mb-3">
                        <label class="fw-bold">Subjetivo :&nbsp; </label> <span>{{subjetivos}}</span>
                    </div>
                </div>
                <div class="col-xl-6">
                    <div class="form-group mb-3">
                        <label class="fw-bold">Objetivo :&nbsp; </label> <span>{{objetivos}}</span>
                    </div>
                </div>
                <div class="col-xl-12">
                    <!-- Datos generales del paciente -->
                     <h6>Diuresis</h6>
                    <table border="1" >
                        <tr>
                            <th>Nota</th>
                            <th>Fecha Registro</th>
                            <th>Enfermera</th>
                        </tr>
                        <tr *ngFor="let item of listadoDiuresis">
                            <td>{{item.Nota}}</td>
                            <td>{{ item.FechaNota | date: 'dd-MM-yyyy HH:mm'}}</td>
                            <td>{{item.Usuario}}</td>
                        </tr>
                    </table>

                    <h6>Deposicion</h6>
                    <table border="1" >
                        <tr>
                            <th>Nota</th>
                            <th>Fecha Registro</th>
                            <th>Enfermera</th>
                        </tr>
                        <tr *ngFor="let item of listadoDeposicion">
                            <td>{{item.Nota}}</td>
                            <td>{{ item.FechaNota | date: 'dd-MM-yyyy HH:mm'}}</td>
                            <td>{{item.Usuario}}</td>
                        </tr>
                    </table>

                    <h6>Medicación</h6>
                    <table border="1" >
                        <tr>
                            <th>Nota</th>
                            <th>Fecha Registro</th>
                            <th>Enfermera</th>
                        </tr>
                        <tr *ngFor="let item of listadoMedicacion">
                            <td>{{item.Nota}}</td>
                            <td>{{ item.FechaNota | date: 'dd-MM-yyyy HH:mm'}}</td>
                            <td>{{item.Usuario}}</td>
                        </tr>
                    </table>

                    <!-- Tabla de Signos Vitales -->
                    <!-- <h3>Signos Vitales</h3>
                    <table border="1">
                    <tr *ngFor="let [key, value] of (objNotaEnfermera.SignoVital | keyvalue)">
                        <td>{{ key }}</td>
                        <td>{{ value }}</td>
                    </tr>
                    </table>


                    <h3>Soapie</h3>
                    <p><strong>Subjetivos:</strong> {{ objNotaEnfermera.Soapie.Subjetivos }}</p>
                    <p><strong>Objetivos:</strong> {{ objNotaEnfermera.Soapie.Objetivos }}</p>


                    <div *ngFor="let section of ['Medicacion', 'Procedimiento', 'Diagnostico', 'Planteamiento', 'Ocurrencias', 'Pendientes', 'Evaluacion', 'Diuresis', 'Deposicion']">
                    <h4>{{ section }}</h4>
                    <table border="1" *ngIf="objNotaEnfermera.Soapie[section]?.length">
                        <tr>
                        <th>Item</th>
                        <th>Nota</th>
                        <th>FechaNota</th>
                        <th>Usuario</th>
                        </tr>
                        <tr *ngFor="let item of objNotaEnfermera.Soapie[section]">
                        <td>{{ item.Item }}</td>
                        <td>{{ item.Nota }}</td>
                        <td>{{ item.FechaNota }}</td>
                        <td>{{ item.Usuario }}</td>
                        </tr>
                    </table>
                    <p *ngIf="!objNotaEnfermera.Soapie[section]?.length">Sin datos</p>
                    </div> -->
                </div>
            </div>

            <div class="row">
                <br>
                <h6>Balance Hídrico</h6>
                <div class="box-shadow mt-3" *ngFor="let lista of listadoBalanceHidrico;">
                    <div class="row">
                        <div class="col-xl-2 col-sm-2 fw-bold"><b>Fecha: </b>{{lista.FechaTexto | date: 'dd-MM-yyyy' }}</div>
                        <div class="col-xl-1 col-sm-1 fw-bold"><b>Hora: </b>{{lista.FechaTexto | date: 'HH:mm'}}</div>
                        <div class="col-xl-3 col-sm-3"><b>Balance Hidrico: </b>{{lista.BalanceHidrico}}</div>
                        <div class="col-xl-2 col-sm-2"><b>Ingresos: </b>{{lista.Ingreso?.SumatoriaTotal}}</div>
                        <div class="col-xl-2 col-sm-2"><b>Egresos: </b>{{lista.Egreso?.SumatoriaTotal}}</div>
                        <div class="col-xl-2 col-sm-2 text-right">
                            
                        </div>
                    </div>
                </div>
            </div>

            
            		
        </form>
    </div>
    <div class="modal-footer">							
        <!-- <button type="button" class="btn btn-green-light-custom"><i class="fas fa-lg fa-fw me-2 fa-file-pdf"></i>Imprimir</button> -->
        <button type="button" class="btn btn-danger" (click)="CerrarModal()"><i class="fas fa-lg fa-fw me-2 fa-sign-out-alt"></i>Salir</button>
      </div>
</div>