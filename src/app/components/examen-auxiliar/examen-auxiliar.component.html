<div class="modal-content">
    <div class="modal-header">
        <h4 class="modal-title">EXAMEN AUXILIAR</h4>
        <button type="button" class="btn-close" data-bs-dismiss="modal" (click)="CerrarModal()"></button> 
    </div>
    <div class="modal-body">
        <form [formGroup]="dataFormGroup">
            <div id="header-component">
                <div class="row">
                    <div class="col-xl-5">
                        <div class="form-group mb-3">
                            <label class="fw-bold">Paciente : &nbsp;&nbsp;</label> <span>{{paciente}}</span>
                        </div>
                    </div>
                    <div class="col-xl-3">
                        <div class="form-group mb-3">
                            <label class="fw-bold">Nro. HCL :&nbsp;&nbsp; </label> <span>{{nroHcl}}</span>
                        </div>
                    </div>
                    <div class="col-xl-3">
                        <div class="form-group mb-3">
                            <label class="fw-bold">Fecha : &nbsp;&nbsp;&nbsp;</label> <span>{{ fechaActual}}</span>
                        </div>
                    </div>															
                </div>
            </div>
            <hr/>
            
            <div class="row" *ngIf="objDiagnostico!=null">
                <div class="row mb-3 bg-green-custom">DIAGNÓSTICO</div>	
                <div class="col-xl-12"   *ngFor="let lista of objDiagnostico">
                    <div class="box-shadow mb-3">
                        <div class="row">
                            <div class="col-xl-11">
                                <div class="col-xl-12 fw-bold">{{lista.TipoDiagnostico}}</div>
                                <div class="col-xl-12">{{lista.CodigoCie10}}</div>
                                <div class="col-xl-12">{{lista.NombreDiagnostico}}</div>              
                            </div>
                        </div>
                    </div>
                </div> 
                <div class="col-xl-12"  *ngFor="let lista of objDiagnosticoPrimer">
                    <div class="box-shadow mb-3">
                        <div class="row">
                            <div class="col-xl-11">
                                <div class="col-xl-12 fw-bold">{{lista.TipoDiagnostico}}</div>
                                <div class="col-xl-12">{{lista.CodigoCie10}}</div>
                                <div class="col-xl-12">{{lista.NombreDiagnostico}}</div>              
                            </div>
                        </div>
                    </div>
                </div> 
                <hr/>
            </div>											
             
           
            <div class="row mb-3 bg-green-custom">ÓRDENES</div>

                
                <p-autoComplete 
                    *ngIf="idRol==1"
                    formControlName="inputServicio"
                    [(ngModel)]="selectedServicio" 
                    [suggestions]="servicios" 
                    (completeMethod)="filterServicios($event)" 
                    field="servicio"
                    [minLength]="2"
                    placeholder="Buscar servicio">
                </p-autoComplete>
                
                <button type="button" *ngIf="idRol==1" class="btn btn-green-custom" (click)="Agregar()"><i class="fas fa-lg fa-plus"></i></button>
                
           	<hr>						
            <div class="row" *ngIf="idRol==1">
                <div class="col-xl-3">
                    <h6>Tipo</h6>
                </div>
                <div class="col-xl-4">
                    <h6>Estudio</h6>
                </div>
                <div class="col-xl-5">
                    <h6>Indicaciones</h6>
                </div>									
            </div>
            <div class="row" *ngIf="idRol==1">
                <div class="col-xl-3">
                    <input type="text" class="form-control" formControlName="inputTipo">
                </div>
                <div class="col-xl-4">
                    <input type="text" class="form-control" formControlName="inputEstudio">
                </div>
                <div class="col-xl-4">
                    <div class="row">
                        <div class="col-xl-12">
                            <textarea type="text" class="form-control" id="" formControlName="inputIndicaciones"></textarea>
                        </div>
                    </div>
                </div>
                <div class="col-xl-1">
                    <button type="button" class="btn btn-green-custom" (click)="AgregarReceta()"><i class="fas fa-lg fa-plus"></i></button>
                </div>
                
            </div>

            <hr>
            <div class="row" *ngIf="verImpresion==false">
                <div class="box-shadow mt-3" *ngFor="let lista of listadoOrden">
                    <div class="row">
                        <div class="col-xl-3">
                            <h6>Nombre Examen</h6>
                            <p>{{lista.Servicio}}</p>
                        </div>	
                        <div class="col-xl-3">
                            <h6>Tipo</h6>
                            <p>{{lista.Tipo}}</p>
                        </div>		
                        <div class="col-xl-3">
                            <h6>Fecha Orden</h6>
                            <p>{{lista.Fecha | date : 'dd-MM-yyyy HH:mm'}}</p>
                        </div>							
                    </div>
                    <div class="row">
                        <div class="col-xl-12">
                            <h6>Indicaciones</h6>
                            <p>{{lista.Indicaciones}}</p>
                        </div>
                    </div>
                </div>
            </div>
            
                                            
        </form>
        <div class="row" id="imprimir" *ngIf="verImpresion">
            <div class="row">
                <div class="col-xl-2">
                    <img src="../../../assets/img/logotipo.png" alt="logo" width="250" height="60">
                </div>
            </div>
            
            <div class="row">
                <div class="col-xl-12">
                    <h5 style="text-align: center;">SOLICITUD DE ORDEN DE EXAMENES MÉDICOS</h5>
                </div>
            </div>
            <br><br><br>
            <div id="header-component">
                <div class="row">
                    <div class="col-xl-4">
                        <div class="form-group mb-3">
                            <label class="fw-bold">Paciente :&nbsp; </label> <span>{{paciente}}</span>
                        </div>
                    </div>
                    <div class="col-xl-3">
                        <div class="form-group mb-3">
                            <label class="fw-bold">Nro. HCL :&nbsp; </label> <span>{{nroHcl}}</span>
                        </div>
                    </div>
                    <div class="col-xl-5">
                        <div class="form-group mb-3">
                            <label class="fw-bold">Medico :&nbsp;&nbsp; </label> <span>{{medico}}</span>
                        </div>
                    </div>															
                </div>
            </div>
            <br>
            <div class="row">
                <div class="row mb-3 bg-green-custom" style="background: #3594E0;">DIAGNÓSTICO</div>												
                <div class="col-xl-12"  *ngFor="let lista of objDiagnostico">
                    <div class="box-shadow mb-3">
                        <div class="row">
                            <div class="col-xl-11">
                                <div class="col-xl-12 fw-bold">{{lista.TipoDiagnostico}}</div>
                                <div class="col-xl-12">{{lista.CodigoCie10}}</div>
                                <div class="col-xl-12">{{lista.NombreDiagnostico}}</div>              
                            </div>
                        </div>
                    </div>
                </div>  
                <div class="col-xl-12"  *ngFor="let lista of objDiagnosticoPrimer">
                    <div class="box-shadow mb-3">
                        <div class="row">
                            <div class="col-xl-11">
                                <div class="col-xl-12 fw-bold">{{lista.TipoDiagnostico}}</div>
                                <div class="col-xl-12">{{lista.CodigoCie10}}</div>
                                <div class="col-xl-12">{{lista.NombreDiagnostico}}</div>              
                            </div>
                        </div>
                    </div>
                </div> 
                <hr/>
            </div>
            <br>
            <br>
            <div class="row mb-3 bg-green-custom" style="background: #3594E0;">ÓRDENES DE EXAMENES</div>	
            <div class="table-responsive" id="ver-tabla">
            <table class="table table-bordered table-striped">
                    <thead>
                        <th>Índice</th>
                        <th>Fecha Registro</th>
                        <th>Examen</th>
                        <th>Tipo</th>
                        <th>Indicaciones</th>
                    </thead>
                    <tbody id="table-body">
                        <tr *ngFor="let lista of listadoOrden; index as s">
                            <td>{{s + 1 }}</td>
                            <td>{{lista.Fecha  | date: 'dd/MM/yyyy'}}</td>
                            <td>{{lista.Servicio}}</td>
                            <td>{{lista.Tipo}}</td>
                            <td>{{lista.Indicaciones}}</td>
    
                        </tr>
                    </tbody>
            </table>
            <br>
            <br>
            <br>
            <br>
            <div class="row">
                <div class="col-xl-3">
                    <p>___________________________________________</p>
                    <p>{{medico}}</p>
                    <!-- <p>
                        <a href="eldoctor.pe" target="_blank">web</a>
                    </p> -->
                </div>
            </div>
            
            
        </div>
        </div>
    </div>
    <div class="modal-footer">		
        <button class="btn btn-green-custom btn-sm" (click)="Cotizar()" *ngIf="idRol==3"> <i class="fas fa-lg fa-fw me-2 fa-eye" ></i> Mostra historial</button>&nbsp;&nbsp;
        <button type="button" class="btn btn-green-light-custom" (click)="Imprimir()" *ngIf="verImpresion">
            <i class="fa fa-lg fa-fw me-2 fa-print"></i>Imprimir</button>&nbsp;&nbsp;		
        <button type="button" class="btn btn-primary" (click)="GenerarPdf()" *ngIf="verImpresion==false">
        <i class="fa fa-lg fa-fw me-2 fa-print"></i>Vista de impresión</button>&nbsp;&nbsp;						
        <button type="button" class="btn btn-green-custom" data-bs-toggle="modal" data-bs-target="#modalXl" *ngIf="idRol==1" data-bs-dismiss="modal" (click)="Guardar()"><i class="fas fa-lg fa-fw me-2 fa-file-alt"></i>Generar orden</button>
        <!-- <button type="button" class="btn btn-green-light-custom"><i class="fas fa-lg fa-fw me-2 fa-file-pdf"></i>Imprimir</button> -->
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal" (click)="CerrarModal()"><i class="fas fa-lg fa-fw me-2 fa-sign-out-alt"></i>Salir</button>
    </div>
</div>